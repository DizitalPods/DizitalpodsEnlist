<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Add Candidate Detail</title>
	
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


	<script>
	
	function Enabledchk(pl)
	{
		var ddl=document.getElementById("ls");
		ddl.disabled=pl.checked ? false:true;
		if(!ddl.disabled)
		{
			ddl.focus();
		}
	}
	
	$.ajax({
		url :"/ljc" ,
		success : function(data) {
			
			var select = '';
			$.each(data, function(key, value) {
				select += '<option val=' + data[key] + ' id="opsn">'
						+ data[key] + '</option>';
				console.log(data[key]);
			})
			$('#ls').html(select);
		},

		type : 'GET',
	});
	
		function save() {
			var data = {}

			data["fname"] = $("#fname").val();
			data["lname"] = $("#lname").val();
			data["pno"] = $("#pno").val();
			
			data["email"] = $("#email").val();
			data["techskills"] = $("#techskills").val();
			
			data["totalexp"] = $("#totalexp").val();
			
			
			data["linkedinid"] = $("#linkedinid").val();
			data["source"] = $("#source").val();
			data["createdby"] = $("#createdby").val();
			data["createdon"] = $("#createdon").val();
			data["updatedon"] = $("#updatedon").val();
			data["updatedby"] = $("#updatedby").val();
			data["domain"]=$("#ls").val();
			

			$.ajax({
				url: "/candid",
				contentType: "application/json",
				data: JSON.stringify(data),
				type: "post",
				success: function (data) {

					window.location.href = '/CandidateDisplay';
					alert("Inserted Successfully" + data);

				},
				error: function (e) {
					alert('error', e);
				}
			});
		}


	</script>

	<style>
		input {
			margin:5px;
		}
	</style>

</head>

<body>
	<main>

		<div class="form-group col-md-4">
			<!-- <input type="text" id="slno"> -->
			Full Name: <input type="text" id="fname" class="form-control">
			Last Name: <input type="text" id="lname" class="form-control">
			Phone: <input type="text" id="pno" class="form-control">
			Email: <input type="text" id="email" class="form-control">
			Technical Skills: <input type="text" id="techskills" class="form-control">
			
			Total Experience: <input type="text" id="totalexp" class="form-control">
			
			
			
			Linkedin: <input type="text" id="linkedinid" class="form-control">
			
			Created on: <input type="date" id="createdon" class="form-control">
			Created by: <input type="text" id="createdby" class="form-control">
			Updated on: <input type="date" id="updatedon" class="form-control">
			Updated by: <input type="text" id="updatedby" class="form-control">
			
			profile Lock <input type="checkbox" id="pl" onclick="Enabledchk(this)"><br>
			
			 <select id="ls" disabled="disabled" class="form-control"></select>
			
			
			<form  method="post" action="/upload" enctype="multipart/form-data">
    
                        <input name="fi" type="file" />
                        
                        <input type="submit"  value="Uploading">
                        
            </form>
			<input type="submit" value="Add" onclick="save();"  class="btn btn-success">
		</div>
	</main>

	<!-- Labels -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js">
		</script>

	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js">
		</script>

	<!-- Include Dexie -->
	<script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>


</body>

</html>